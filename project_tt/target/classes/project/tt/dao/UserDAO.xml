<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="project.tt.dao.UserDAO">
   
	<!-- 	목록가져오기    -->
	<select id="getUser" resultType="project.tt.vo.UserVO">
    	select * from tt_login
	</select>
	
	<!-- 회원가입 -->
	<insert id="register"> 
  	 insert into tt_login(user_id,user_pw,user_name,user_nickname,user_tel) 
  	 	values(#{user_id},#{user_pw},#{user_name},#{user_nickname},#{user_tel})
	</insert>
	
	<!-- 정보가져와서 중복체크 -->	
	<select id="idCheck" resultType="project.tt.vo.UserVO">
    	select * from tt_login where user_id=#{user_id}
	</select>
	
	<select id="nicknameCheck" resultType="project.tt.vo.UserVO">
    	select * from tt_login where user_nickname=#{user_nickname}
	</select>	
	
	<select id="telCheck" resultType="project.tt.vo.UserVO">
    	select * from tt_login where user_tel=#{user_tel}
	</select>	
	
	<select id="nameCheck" resultType="project.tt.vo.UserVO">
    	select * from tt_login where user_name=#{user_name}
	</select>	
	
	<!-- ID/PW 찾기  -->
	<select id="idSearch" resultType="project.tt.vo.UserVO">
    	select user_id from tt_login where user_name=#{user_name} and user_tel=#{user_tel}
	</select>
	
	<select id="pwSearch" resultType="project.tt.vo.UserVO">
    	select user_pw from tt_login where user_id=#{user_id} and user_tel=#{user_tel}
	</select>
	<!-- 로그인 -->
	<select id="loginidpw" resultType="project.tt.vo.UserVO">
		select * from tt_login where user_id=#{user_id} and user_pw=#{user_pw}
	</select>
	
<!-- 	회원정보수정 -->
	<update id="modify">
		update tt_login set user_nickname=#{user_nickname},user_tel=#{user_tel},
		user_pw=#{user_pw} where user_id=#{user_id} and user_name=#{user_name}	 
	</update>
	
<!-- 	회원삭제 -->
	<delete id="delete">
	delete from tt_login where user_id=#{user_id} and user_name=#{user_name}	
	</delete>
	
<!-- 		비밀번호확인 -->
	<select id="pw" resultType="project.tt.vo.UserVO"> 
		select * from tt_login where user_pw=#{user_pw}
	</select>
	
</mapper>	